<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"> 
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:ui="http://java.sun.com/jsf/facelets"
      xmlns:f="http://java.sun.com/jsf/core"
      xmlns:h="http://java.sun.com/jsf/html"
      xmlns:p="http://primefaces.org/ui"> 

<h:head>
<title>lista de usuarios</title>

</h:head> 
<body> 
   <h:form id="listaru">
	<p:dataTable value="#{usuarioControlador.usuarios}" var="u">

			<p:column>
			<f:facet name="header">Código</f:facet>
			#{u.codigo}
			</p:column>
			
			<p:column>
			<f:facet name="header">Nombre</f:facet>
			#{u.nombre}
			</p:column>
			
			<p:column>
			<f:facet name="header">Email</f:facet>
			#{u.email}
			</p:column>
			
			<p:column>
			<f:facet name="header">Contraseña</f:facet>
			#{u.password}
			</p:column>
			<p:column>
			
			<p:commandButton oncomplete="PF('usua').show()"
			process="@this" update=":deta">
			 <f:setPropertyActionListener value="#{u}" 
			 target="#{usuarioControlador.usuario}"/>
			</p:commandButton>
			
			
			</p:column>
		</p:dataTable>
	</h:form>
	<p:dialog modal="true" height="400" width="400" widgetVar="usua">
	<h:form id="deta">
	<h:panelGrid columns="2">
		<h:outputLabel value="Nombre:" />
		<p:inputText value="#{usuarioControlador.usuario.nombre}"></p:inputText>
		
		<h:outputLabel value="Email:" />
		<p:inputText value="#{usuarioControlador.usuario.email}"></p:inputText>
		
		<h:outputLabel value="Contraseña:" />
		<p:inputText value="#{usuarioControlador.usuario.password}"></p:inputText>
	</h:panelGrid>
	<p:commandButton value="Actualizar"
	action="#{usuarioControlador.salvar()}"
	process="@form" update="@form :listaru"/> 
	</h:form>
	
	</p:dialog>
	
</body> 
</html>
